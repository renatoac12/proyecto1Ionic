<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      QR
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="container" class="ion-padding">
    <ion-button expand="full" (click)="openScanner()">Abrir Escáner de QR</ion-button>

    <div id="videoContainer" [ngClass]="{ 'hide-result': isScanning }">
      <video #videoElement autoplay="true"></video>
    </div>

    <div>
      <img src="{{imageSource}}" style="width: 400px;" alt="">
    <ion-button expand="full" (click)="takePicture()">Tomar foto </ion-button>
  </div>

  <div class="ion-padding" style="text-align: center;">
    <ion-label>Latitud {{ latitud }}</ion-label>
  </div>

  <div class="ion-padding" style="text-align: center;">
    <ion-label>Longitud {{ longitud }}</ion-label>
  </div>
  <ion-button expand="full" (click)="obtenerCoordenadas()">Obtener tus Coordenadas</ion-button>




    

    <div *ngIf="userData && !isScanning">
      <h2>Información de la clase:</h2>
      <p>Nombre: {{ userData.nombre }}</p>
      <p>Apellido: {{ userData.apellido }}</p>
      <p>Rut: {{ userData.rut }}</p>
      <ul>
        <li *ngFor="let dato of userData.datosEscaneados">{{ dato }}</li>
      </ul>
    </div>
  </div>


  <ion-button (click)="onClickLogout()"expand="block">Logout</ion-button>
</ion-content>